(function(){"use strict";const mt="";function i(e,...t){const n=getTranslation(e)||e;return t.length===0?n:t.reduce((s,c,a)=>s.replace(`{${a}}`,c),n)}function p(e){return gradioApp().querySelector(e)}function ne(e){return!!p(e)}function D(e){return Array.from(gradioApp().querySelectorAll(e))}function q(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function P(e,t,...n){t?e.classList.add(...n):e.classList.remove(...n)}function Ve(e,...t){t.forEach(n=>{e.classList.toggle(n)})}function m(e,t){e==null||e.classList.toggle("better-styles-force-hidden",t)}function ze(e,t){const n=opts[e];typeof n=="boolean"&&t(n)}function se(e){const t=p(`#${e}_gallery > div > img`);if(!(t instanceof HTMLImageElement))return k();const n=()=>t.src.substring(t.src.indexOf("file=")+5);return{get:n,getOrDefault:n,with:s=>s(n())}}function R(){const e=p("#sd_checkpoint_hash");if(!(e instanceof HTMLAnchorElement))return k();const t=()=>e.title;return{get:t,getOrDefault:t,with:n=>n(t())}}function ie(e){return Ce(`#${e}_prompt textarea`)}function ce(e){return Ce(`#${e}_neg_prompt textarea`)}function ae(e){return Xe(`#sampler_selection_${e}`)}function le(e){return w(`#${e}_steps input[type='number']`)}function re(e){return w(`#${e}_cfg_scale input[type='number']`)}function oe(e){return w(`#${e}_seed input[type='number']`)}function de(e){return V(`#${e}_restore_faces input[type='checkbox']`)}function ue(e){return V(`#${e}_tiling input[type='checkbox']`)}function pe(e){return V(`#${e}_enable_hr input[type='checkbox']`)}function me(e){return Je(`#${e}_hr_upscaler select`)}function he(e){return w(`#${e}_hires_steps input[type='number']`)}function fe(e){return w(`#${e}_denoising_strength input[type='number']`)}function ge(e){return w(`#${e}_hr_scale input[type='number']`)}function ve(){return w("#setting_CLIP_stop_at_last_layers input[type='number']")}function ye(){return w("#setting_eta_noise_seed_delta input[type='number']")}function B(e,t){if(t==="input")updateInput(e);else if(t==="change"){const n=new Event(t);Object.defineProperty(n,"target",{value:e}),e.dispatchEvent(n)}}function $(){const e=get_uiCurrentTabContent();if(e==null)return"other";const{id:t}=e;if(t.startsWith("tab_")){const n=t.slice(4);switch(n){case"txt2img":case"img2img":return n}}return"other"}function k(){return{get:()=>null,getOrDefault:e=>e,with:()=>{},set:()=>!1}}function E(e){return{...e,getOrDefault:()=>e.get(),with:t=>t(e.get())}}function Ce(e){const t=p(e);return t instanceof HTMLTextAreaElement?E({get:()=>t.value,set:n=>(t.value=n,B(t,"input"),!0)}):k()}function Je(e){const t=p(e);return t instanceof HTMLSelectElement?{index:E({get:()=>t.selectedIndex,set:n=>(t.selectedIndex=n,B(t,"change"),!0)}),value:E({get:()=>{var n;return((n=t.selectedOptions[0])==null?void 0:n.value)||""},set:n=>{const s=t.querySelector(`option[value='${n}']`);let c=-1;return s instanceof HTMLOptionElement&&(c=s.index),c>=0?(t.selectedIndex=c,B(t,"change"),!0):!1}})}:{index:k(),value:k()}}function w(e){const t=p(e);return t instanceof HTMLInputElement?E({get:()=>t.valueAsNumber,set:n=>(t.valueAsNumber=n,B(t,"input"),!0)}):k()}function V(e){const t=p(e);return t instanceof HTMLInputElement?E({get:()=>t.checked,set:n=>(t.checked!=n&&t.click(),!0)}):k()}function Xe(e){const t=p(e);return t instanceof HTMLElement?E({get:()=>t.querySelector(".single-select").innerText,set:async n=>{const s=t.querySelector("input");if(s==null)return!1;s.dispatchEvent(new MouseEvent("mousedown")),await new Promise(a=>setTimeout(a,500));const c=t.querySelector(`li[data-value="${n}"]`);return c==null?(console.log(`target not found: ${n}`),!1):(c.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),!0)}}):k()}const Ye=/,(\s+)?$/g,Ke=/^(\s+)?,/g;function be(e,t){return!e||Ye.test(e)||Ke.test(t)?e+t:`${e}, ${t}`}function Qe(e,t){if(t.prompt){const n=ie(e);n.set(be(n.getOrDefault(""),t.prompt))}if(t.negativePrompt){const n=ce(e);n.set(be(n.getOrDefault(""),t.negativePrompt))}t.samplingMethod&&ae(e).set(t.samplingMethod),t.samplingSteps&&le(e).set(t.samplingSteps),t.cfgScale&&re(e).set(t.cfgScale),t.seed&&oe(e).set(t.seed),t.restoreFaces&&de(e).set(t.restoreFaces),t.tiling&&ue(e).set(t.tiling),t.hiresFix&&pe(e).set(t.hiresFix),t.upscaler&&me(e).value.set(t.upscaler),t.hiresSteps&&he(e).set(t.hiresSteps),t.denoisingStrength&&fe(e).set(t.denoisingStrength),t.upscaleBy&&ge(e).set(t.upscaleBy),t.clipSkip&&ve().set(t.clipSkip),t.etaNoiseSeedDelta&&ye().set(t.etaNoiseSeedDelta)}function Ee(e,t){fetch("/better-style-api/v1/register-style",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()).then(n=>{t(n)})}function We(e,t){fetch("/better-style-api/v1/delete-styles",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()).then(n=>{t(n)})}let S=null,A=-1;function Ze(){return S||(S=document.createElement("div"),S.classList.add("better-styles","toast"),S.addEventListener("click",()=>{z()}),gradioApp().appendChild(S),S)}function M(e,t="info",n=3e3){z();const s=Ze();s.classList.remove("toast-info","toast-success","toast-warning","toast-error"),s.classList.add(`toast-${t}`),s.textContent=e,A=setTimeout(()=>{s.classList.remove("fade-out"),s.classList.add("show"),A=setTimeout(()=>{s.classList.remove("show"),s.classList.add("fade-out"),A=setTimeout(()=>{z()},300)},n)},50)}function z(){A>=0&&clearTimeout(A),S&&(gradioApp().removeChild(S),S=null)}let Se=[];const T=E({get:()=>Se,set:e=>(Se=[...e],!0)});let Le="";const xe=E({get:()=>Le,set:e=>(Le=e,!0)});let ke="";const we=E({get:()=>ke,set:e=>(ke=e,!0)});let _e="default";const y=E({get:()=>_e,set:e=>(_e=e,!0)});let v=null,L;function Ne(){if(v){P(v,ne(".gradio-container.dark"),"dark"),q(L);return}v=document.createElement("div"),v.id="better-styles-modal",m(v,!0),v.classList.add("better-styles","modal"),v.addEventListener("mousedown",e=>{e.target===v&&e.button===0&&(e.preventDefault(),m(v,!0))}),gradioApp().appendChild(v),L=document.createElement("div"),L.classList.add("content-wrapper"),v.appendChild(L),P(v,ne(".gradio-container.dark"),"dark")}function J(e){Ne(),L.appendChild(e),m(v,!1)}function O(e){L!=null&&L.removeChild(e)&&m(v,!L.hasChildNodes())}function et(){const e=$();if(e==="other")return;const t=tt(e),n=document.createElement("div");n.classList.add("save-style","modal-content");const s=document.createElement("div");s.classList.add("input-fields"),n.appendChild(s);const c=$e(i("Style name"),"");s.appendChild(c.element);const a=$e(i("Group"),i(y.getOrDefault("default")));s.appendChild(a.element);const r=Te(i("Prompt"),t.prompt||"");s.appendChild(r.element);const l=Te(i("Negative prompt"),t.negativePrompt||"");s.appendChild(l.element);const d=document.createElement("div");d.classList.add("parameters"),n.appendChild(d);const h=document.createElement("span");h.classList.add("label"),h.textContent=i("Save these parameters as style"),d.appendChild(h);const b=document.createElement("div");d.appendChild(b);const C=document.createElement("label");C.classList.add("checkbox-wrapper"),b.appendChild(C);const g=document.createElement("input");g.type="checkbox",C.appendChild(g);const _=document.createElement("span");_.classList.add("label"),_.textContent=i("All"),g.after(_);const u=document.createElement("ul");u.classList.add("parameter-fields"),d.appendChild(u),g.addEventListener("change",()=>{u.querySelectorAll("input[type=checkbox]").forEach(o=>{o.checked=g.checked})});const Fe=f(i("Sampling method"));u.appendChild(Fe.element);const Ie=f(i("Sampling steps"));u.appendChild(Ie.element);const Ge=f(i("CFG Scale"));u.appendChild(Ge.element);const He=f(i("Seed"));u.appendChild(He.element);const je=f(i("Restore faces"));u.appendChild(je.element);const Ue=f(i("Tiling"));u.appendChild(Ue.element);const qe=f(i("Hires. fix"));u.appendChild(qe.element);const K=f(i("Upscaler"));u.appendChild(K.element);const Q=f(i("Hires steps"));u.appendChild(Q.element);const W=f(i("Denoising strength"));u.appendChild(W.element);const Z=f(i("Upscale by"));u.appendChild(Z.element),t.hiresFix||(m(K.element,!0),m(Q.element,!0),m(W.element,!0),m(Z.element,!0));const N=f(i("Clip skip"));u.appendChild(N.element);const ee=f(i("Eta noise seed delta"));u.appendChild(ee.element),t.clipSkip==null&&m(N.element,!0),t.etaNoiseSeedDelta==null&&m(ee.element,!0);const I=document.createElement("div");I.classList.add("other-options"),n.appendChild(I);const Re=f(i("Make this style exclusive to the current checkpoint"));I.appendChild(Re.element);const G=f(i("Use the current image as a thumbnail"));t.image||(G.element.classList.add("disabled"),G.input.disabled=!0),I.appendChild(G.element);const H=document.createElement("div");H.classList.add("buttons"),n.appendChild(H);const pt=()=>{const o={};return Re.input.checked&&(o.checkpoint=t.checkpoint),G.input.checked&&(o.image=t.image),r.textarea.value&&(o.prompt=r.textarea.value),l.textarea.value&&(o.negativePrompt=l.textarea.value),Fe.input.checked&&(o.samplingMethod=t.samplingMethod),Ie.input.checked&&(o.samplingSteps=t.samplingSteps),Ge.input.checked&&(o.cfgScale=t.cfgScale),He.input.checked&&(o.seed=t.seed),je.input.checked&&(o.restoreFaces=t.restoreFaces),Ue.input.checked&&(o.tiling=t.tiling),qe.input.checked&&(o.hiresFix=t.hiresFix),K.input.checked&&(o.upscaler=t.upscaler),Q.input.checked&&(o.hiresSteps=t.hiresSteps),W.input.checked&&(o.denoisingStrength=t.denoisingStrength),Z.input.checked&&(o.upscaleBy=t.upscaleBy),N.input.checked&&(o.clipSkip=t.clipSkip),ee.input.checked&&(o.etaNoiseSeedDelta=t.etaNoiseSeedDelta),o},x=document.createElement("button");x.classList.add("save-button","button","lg","primary"),x.textContent=i("Save with this content"),x.addEventListener("click",()=>{Ee({group:(U=>U===i("default")?"default":U)(a.input.value),style:{name:c.input.value,...pt()}},U=>{O(n),T.set(U),X(),M(i("Style registered"),"success")})}),H.appendChild(x);const j=document.createElement("button");j.classList.add("button","lg","secondary"),j.textContent=i("Close without saving"),j.addEventListener("click",()=>{O(n)}),H.appendChild(j);const te=()=>{const o=!c.input.value||!a.input.value;x.disabled=o,o?(x.classList.remove("gr-button","gr-button-primary"),x.classList.add("gr-box","gr-check-radio")):(x.classList.remove("gr-box","gr-check-radio"),x.classList.add("gr-button","gr-button-primary"))};te(),c.input.addEventListener("input",()=>{te()}),a.input.addEventListener("input",()=>{te()}),J(n)}const $e=(e,t)=>{const n=document.createElement("label");n.classList.add("input-field");const s=document.createElement("span");s.classList.add("label"),s.textContent=e;const c=document.createElement("textarea");return c.classList.add("text-input","scroll-hide"),c.rows=1,c.value=t,n.appendChild(s),n.appendChild(c),{element:n,input:c}},Te=(e,t)=>{const n=document.createElement("label");n.classList.add("input-field");const s=document.createElement("span");s.classList.add("label"),s.textContent=e;const c=document.createElement("textarea");return c.classList.add("text-input","scroll-hide"),c.rows=3,c.value=t,n.appendChild(s),n.appendChild(c),{element:n,textarea:c}},f=e=>{const t=document.createElement("label");t.classList.add("checkbox-wrapper");const n=document.createElement("input");n.type="checkbox",n.addEventListener("change",()=>{t.dataset.checked=String(n.checked)});const s=document.createElement("span");return s.classList.add("label"),s.textContent=e,t.appendChild(n),n.after(s),{element:t,input:n}};function tt(e){const t={};return se(e).with(n=>t.image=n),R().with(n=>t.checkpoint=n),ie(e).with(n=>t.prompt=n),ce(e).with(n=>t.negativePrompt=n),ae(e).with(n=>t.samplingMethod=n),le(e).with(n=>t.samplingSteps=n),re(e).with(n=>t.cfgScale=n),oe(e).with(n=>t.seed=n),de(e).with(n=>t.restoreFaces=n),ue(e).with(n=>t.tiling=n),pe(e).with(n=>t.hiresFix=n),me(e).value.with(n=>t.upscaler=n),he(e).with(n=>t.hiresSteps=n),fe(e).with(n=>t.denoisingStrength=n),ge(e).with(n=>t.upscaleBy=n),ve().with(n=>t.clipSkip=n),ye().with(n=>t.etaNoiseSeedDelta=n),t}function nt(e){const t=document.createElement("div");t.classList.add("save-style","modal-content"),t.style.width="clamp(20rem, 70vw, 42.5rem)",t.style.boxShadow="0px 0px 4px 0.25rem rgb(8 8 8 / 50%)";const n=document.createElement("p");n.classList.add("text"),n.textContent=i("Delete all selected styles. This action cannot be undone. Are you sure?"),t.appendChild(n);const s=document.createElement("div");s.classList.add("button-container"),t.appendChild(s);const c=document.createElement("button");c.classList.add("button","lg","primary"),c.textContent=i("Execute the deletion"),c.addEventListener("click",()=>{const r=D(`#better-styles-${e}-style-container .selected`);We({group:y.getOrDefault(""),styles:[...r.map(l=>l.dataset.style||"").filter(l=>l.length>0)]},l=>{O(t),T.set(l),X(),M(i("Styles deleted"),"success")})}),s.appendChild(c);const a=document.createElement("button");a.classList.add("button","lg","secondary"),a.textContent=i("Close without deleting"),a.addEventListener("click",()=>{O(t)}),s.appendChild(a),J(t)}const st=e=>{var a,r,l,d,h,b,C,g;const t=document.createElement("div");t.classList.add("styles-detail","modal-content");const n=document.createElement("div");n.classList.add("field-container"),t.appendChild(n),[{label:i("Style name"),value:i(e.name)},{label:i("Exclusive"),value:e.checkpoint?i("Yes"):i("No")},{label:i("Prompt"),value:e.prompt},{label:i("Negative prompt"),value:e.negativePrompt},{label:i("Sampling method"),value:e.samplingMethod},{label:i("Sampling steps"),value:(a=e.samplingSteps)==null?void 0:a.toString()},{label:i("CFG Scale"),value:(r=e.cfgScale)==null?void 0:r.toString()},{label:i("Seed"),value:(l=e.seed)==null?void 0:l.toString()},{label:i("Restore faces"),value:e.restoreFaces?i("Enabled"):void 0},{label:i("Tiling"),value:e.tiling?i("Enabled"):void 0},{label:i("Hires. fix"),value:e.hiresFix?i("Enabled"):void 0},{label:i("Upscaler"),value:e.upscaler},{label:i("Hires steps"),value:(d=e.hiresSteps)==null?void 0:d.toString()},{label:i("Denoising strength"),value:(h=e.denoisingStrength)==null?void 0:h.toString()},{label:i("Upscale by"),value:(b=e.upscaleBy)==null?void 0:b.toString()},{label:i("Clip skip"),value:(C=e.clipSkip)==null?void 0:C.toString()},{label:i("Eta noise seed delta"),value:(g=e.etaNoiseSeedDelta)==null?void 0:g.toString()}].forEach(({label:_,value:u})=>{u!=null&&n.appendChild(it(_,u))});const c=document.createElement("button");c.classList.add("button","lg","secondary"),c.textContent=i("Close style detail"),c.addEventListener("click",()=>{O(t)}),t.appendChild(c),J(t)},it=(e,t)=>{const n=document.createElement("div");n.classList.add("field");const s=document.createElement("span");s.textContent=e,s.classList.add("label"),n.appendChild(s);const c=document.createElement("p");return c.textContent=t,c.classList.add("value"),n.appendChild(c),n};let De=!1;function X(){const e=$();e!=="other"&&(we.set(`?ts=${new Date().getTime()}`),F(e))}function ct(e){var d,h;if(p(`#better-styles-${e}-styles`))return;const t=document.createElement("div");t.id=`better-styles-${e}-styles`,m(t,!0),t.classList.add("better-styles","form"),(h=(d=p(`div#${e}_settings`))==null?void 0:d.parentElement)==null||h.before(t);const n=document.createElement("div");n.classList.add("compact","gradio-row"),t.appendChild(n);const s=document.createElement("div");s.classList.add("tabs","gradio-tabs","extra-networks"),n.appendChild(s);const c=lt(e);s.appendChild(c);const a=document.createElement("div");a.classList.add("tab-item"),s.appendChild(a);const r=document.createElement("div");r.id=`better-styles-${e}-group-container`,r.classList.add("group-container"),a.appendChild(r),r.appendChild(Y("default")),Ae(e);const l=document.createElement("div");if(l.id=`better-styles-${e}-style-container`,l.classList.add("styles-cards"),a.appendChild(l),l.appendChild(Me()),!De){De=!0;let b=R().get();const C=()=>{const g=$();if(g!=="other"){const _=R().get();_!==b&&(b=_,F(g))}setTimeout(C,500)};setTimeout(C,500)}at(e,t)}function at(e,t){var s;const n=p(`#${e}_style_apply`);if(n){const c=document.createElement("button");c.id=`better-styles-${e}-toggle`,c.textContent="ðŸ”–",c.classList.add(...Array.from(n.classList)),m(c,!1),c.title=i("Show Better Styles"),c.addEventListener("click",()=>{m(t)}),(s=n.parentElement)==null||s.appendChild(c)}}function lt(e){const t=document.createElement("div");t.classList.add("tab-nav","scroll-hide");const n=document.createElement("p");n.classList.add("label"),n.textContent=i("Better Styles"),t.appendChild(n);const s=document.createElement("textarea");s.classList.add("text-input","scroll-hide","search"),s.placeholder=i("Search styles..."),s.rows=1,s.addEventListener("input",()=>{D(`#better-styles-${e}-style-container [data-style]`).forEach(d=>{const h=d.dataset.style||"";m(d,!h.includes(s.value))})}),n.after(s);const c=document.createElement("button");c.id=`better-styles-${e}-apply`,c.classList.add("button","lg","secondary"),c.textContent=i("Apply style"),c.addEventListener("click",()=>{const d=[...D(`#better-styles-${e}-style-container .selected`)];if(d.length<=0){M(i("Style is not selected"),"warning");return}d.filter(h=>{const b=h.dataset.style;return T.getOrDefault([]).filter(C=>C.name===y.get()).some(C=>C.styles.filter(g=>g.name===b).some(g=>(Qe(e,g),!0)))}).forEach(h=>h.click())}),s.after(c);const a=document.createElement("button");a.id=`better-styles-${e}-save`,a.classList.add("button","lg","secondary"),a.textContent=i("Save style"),a.addEventListener("click",()=>{et()}),c.after(a);const r=document.createElement("button");r.id=`better-styles-${e}-delete`,r.classList.add("button","lg","secondary"),r.textContent=i("Delete style"),r.addEventListener("click",()=>{if([...D(`#better-styles-${e}-style-container .selected`)].length<=0){M(i("Style is not selected"),"warning");return}nt(e)}),a.after(r);const l=document.createElement("button");return l.id=`better-styles-${e}-close`,l.classList.add("button","lg","secondary"),l.textContent=i("Close Better Styles"),l.addEventListener("click",()=>{m(p(`#better-styles-${e}-styles`),!0)}),r.after(l),t}function Y(e){const t=document.createElement("button");return t.classList.add("button","lg","secondary","custom-button"),t.textContent=i(e),t.dataset.group=e,e===y.get()&&(t.disabled=!0),t.addEventListener("click",()=>{y.set(e);const n=$();n!=="other"&&F(n)}),t}function Ae(e){D(`#better-styles-${e}-group-container > button`).forEach(t=>{const n=t.dataset.group===y.get();P(t,n,"gr-button-primary"),P(t,!n,"gr-button-secondary"),t instanceof HTMLInputElement&&(t.disabled=n)})}function Me(){const e=document.createElement("div");e.classList.add("no-cards");const t=document.createElement("p");return t.textContent=i('Style not yet registered. "Save style" button for register a new style.'),e.appendChild(t),e}function F(e){var a;const t=p(`#better-styles-${e}-group-container`),n=p(`#better-styles-${e}-style-container`);if(!t||!n)return;q(t),q(n);const s=((a=p("#sd_checkpoint_hash"))==null?void 0:a.title)||"",c=rt(s);c.some(({styles:r})=>r.length>0)?c.sort((r,l)=>r.name.localeCompare(l.name)).forEach(r=>{y.get()===""&&y.set(r.name),t.appendChild(Y(r.name)),r.name===y.get()&&r.styles.sort((l,d)=>l.name.localeCompare(d.name)).forEach(l=>{n.appendChild(ot(l))})}):(y.set("default"),t.appendChild(Y("default")),n.appendChild(Me())),Ae(e)}function rt(e){const t=[];let n=!1;return T.getOrDefault([]).forEach(s=>{const c=s.styles.filter(a=>!a.checkpoint||e===a.checkpoint);c.length>0?t.push({name:s.name,styles:c}):s.name===y.get()&&(n=!0)}),n&&y.set(""),t}function ot(e){const t=document.createElement("div");t.dataset.style=e.name,t.classList.add("card");const n=document.createElement("button");n.classList.add("show-detail-button"),n.title=i("Show styles detail"),n.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation(),st(e)}),t.appendChild(n);const s=document.createElement("img");s.classList.add("image"),s.setAttribute("draggable","false"),e.image?s.src=`file=${xe.get()}/${e.image}${we.get()}`:s.src="file=html/card-no-preview.png",t.appendChild(s);const c=document.createElement("div");c.classList.add("actions"),t.appendChild(c);const a=document.createElement("a");a.classList.add("replace-preview"),a.href="#",a.text=i("replace thumbnail"),a.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation();const d=$();if(d==="other")throw new Error("Calls from non-valid tabs");const h=se(d);if(h.get()==null){M(i("Image is not selected"),"warning");return}Ee({group:y.getOrDefault("default"),style:{...e,image:h.getOrDefault("")}},b=>{T.set(b),X()})}),c.appendChild(a);const r=document.createElement("span");return r.classList.add("label"),r.textContent=e.name,r.title=e.name,c.appendChild(r),t.addEventListener("click",()=>{Ve(t,"selected")}),t}let Oe=null,Pe=null,Be=null;onUiLoaded(()=>{const e=new Date().getTime();Oe=fetch(`/better-style-api/v1/get-localization?ts=${e}`).then(t=>t.json()).then(t=>(Object.assign(localization,t),Promise.resolve())),Be=fetch(`/better-style-api/v1/images-dir?ts=${e}`).then(t=>t.json()).then(t=>(xe.set(t.imagesDir),Promise.resolve())),Pe=fetch(`/better-style-api/v1/all-style?ts=${e}`).then(t=>t.json()).then(t=>(T.set(t),Promise.resolve()))}),onUiTabChange(()=>{const e=$();e!=="other"&&dt(e)});function dt(e){ut(e),Promise.all([Oe]).then(()=>{ct(e)}),Promise.all([Be,Pe]).then(()=>{F(e)})}function ut(e){ze("better_styles_hide_original_styles",t=>{t&&(m(p(`#${e}_style_apply`),!0),m(p(`#${e}_style_create`),!0),m(p(`#${e}_styles_row`),!0))})}})();
